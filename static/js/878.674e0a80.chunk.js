(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[878],{8878:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return S}});var a=t(2791),r=t(9434),o=t(3634),s=t(6916),i=function(e){return e.contacts.isLoading},c=function(e){return e.contacts.filter},d=function(e){return e.contacts.items},l=function(e){return e.contacts.error},u=((0,s.P1)([d,c],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase().trim())}))})),t(4270)),h=t(9164),f=t(890),m=t(6314),p=t(3329),x=function(e){var n=e.title,t=e.children;return(0,p.jsxs)(m.Z,{component:"section",sx:{paddingLeft:5,paddingRight:5,marginBottom:5},children:[(0,p.jsx)(f.Z,{variant:"h4",component:"h2",align:"center",children:n}),t]})},y=t(9439),j=t(1413),v=t(208),g=t(1686),Z=t(9036),b=t(6151),C={name:"",phone:""},w=function(e,n){switch(n.type){case"name":return(0,j.Z)((0,j.Z)({},e),{},{name:n.payload});case"number":return(0,j.Z)((0,j.Z)({},e),{},{phone:n.payload});case"reset":return(0,j.Z)({},n.payload);default:return e}},R=function(){var e=(0,r.I0)(),n=(0,r.v9)(d),t=(0,r.v9)(l),o=(0,a.useReducer)(w,C),s=(0,y.Z)(o,2),i=s[0],c=i.name,u=i.phone,h=s[1],f=function(e){var t=e.toLowerCase();return!n.find((function(e){return e.name.toLowerCase()===t}))||(g.Notify.failure("".concat(e," is already in contacts.")),!1)},x=function(e){var n=e.currentTarget,t=n.name,a=n.value;h({type:t,payload:a})};if(!t)return(0,p.jsx)("form",{onSubmit:function(n){n.preventDefault(),f(c)&&(e((0,v.addContact)({name:c,phone:u})),g.Notify.success("".concat(c," added to your contacts."))),h({type:"reset",payload:C})},children:(0,p.jsxs)(m.Z,{spacing:4,sx:{margin:"0 auto"},children:[(0,p.jsx)(Z.Z,{id:"name",label:"Name",variant:"standard",type:"text",name:"name",inputProps:{pattern:"^[a-zA-Z\xc0-\xff]+(([' -][a-zA-Z\xc0-\xff ])?[a-zA-Z\xc0-\xff]*)*$"},title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",value:c,onChange:x,required:!0}),(0,p.jsx)(Z.Z,{id:"number",label:"Number",variant:"standard",type:"tel",name:"number",inputProps:{pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}"},title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",value:u,onChange:x,required:!0}),(0,p.jsx)(b.Z,{type:"submit",variant:"outlined",children:"Add Contact"})]})});g.Notify.error("ERROR")},N=t(1523),k=function(e){return(0,p.jsx)(N.g4,(0,j.Z)({height:"70",width:"70",radius:"9",color:"#6096ba",ariaLabel:"three-dots-loading",wrapperStyle:{display:"flex",justifyContent:"center"},wrapperClassName:"",visible:!0},e))},L=t(7840),P=function(){var e=(0,r.v9)(c),n=(0,r.I0)();return(0,p.jsx)(m.Z,{children:(0,p.jsx)(Z.Z,{label:"Find contacts by name",type:"search",variant:"standard",value:e,name:"filter",onChange:function(e){n((0,L.T)(e.target.value))}})})},A=t(5021),z=t(6278),E=t(6259),F=function(e){var n=e.contact,t=(0,r.I0)();return(0,r.v9)(l)?(g.Notify.error("ERROR"),(0,p.jsx)("h2",{className:"text",style:{fontSize:"40px"},children:"ERROR"})):(0,p.jsx)(A.ZP,{secondaryAction:(0,p.jsx)(b.Z,{edge:"end","aria-label":"delete contact",onClick:function(){t((0,o.GK)(n.id)),g.Notify.info("".concat(n.name," removed from your contacts."))},type:"button",children:"Delete"}),disablePadding:!0,children:(0,p.jsxs)(z.Z,{role:"undefined",dense:!0,children:[(0,p.jsx)(E.Z,{primary:n.name,sx:{flexBasis:"20%"}}),(0,p.jsx)(E.Z,{secondary:n.phone,sx:{flexBasis:"50%"}})]})})},B=t(6351),I=t(493),O=function(){var e=(0,r.v9)(B.selectFilteredContacts);return(0,r.v9)(l)?(g.Notify.info("Error"),(0,p.jsx)("h2",{className:"text",style:{fontSize:"40px"},children:"ERROR"})):0===e.length?(0,p.jsx)(p.Fragment,{}):(0,p.jsx)("div",{children:(0,p.jsx)(I.Z,{sx:{width:"100%",marginTop:2},children:e.map((function(e){return(0,p.jsx)(F,{contact:e},e.id)}))})})};function S(){var e=(0,r.I0)(),n=(0,r.v9)(i),t=(0,r.v9)(d);return(0,a.useEffect)((function(){e((0,o.yF)())}),[e]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u.q,{children:(0,p.jsx)("title",{children:"Your contacts"})}),(0,p.jsxs)(h.Z,{maxWidth:"sm",sx:{paddingBottom:10},children:[(0,p.jsxs)(x,{title:"Phonebook",children:[(0,p.jsx)(R,{}),n&&(0,p.jsx)(k,{})]}),(0,p.jsxs)(x,{title:"Contacts",children:[t.length>0?(0,p.jsx)(P,{}):(0,p.jsx)(f.Z,{align:"center",children:"Looks like you don`t have any contacts yet or just clear them all. Please add new contact."}),(0,p.jsx)(O,{})]})]})]})}},208:function(){},6351:function(){}}]);
//# sourceMappingURL=878.674e0a80.chunk.js.map